{"version":3,"sources":["components/History.js","components/Problem.js","components/Game.js","components/Login.js","App.js","index.js"],"names":["History","props","React","createElement","id","map","s","idx","key","data","row","factorA","factorB","attempt","answer","correct","className","Problem","_useState","useState","_useState2","_slicedToArray","setAttempt","_useState3","_useState4","message","setMessage","msg","_props$factors","factors","a","b","htmlFor","type","name","value","onChange","e","console","log","target","onClick","test","postAttempt","fetchProblem","Game","setFactors","_useState5","_useState6","history","setHistory","token","sessionStorage","getItem","useEffect","fetchHistory","fetch","headers","Authorization","then","response","json","catch","err","error","BrowserRouter","Link","to","Switch","Route","exact","path","method","Content-Type","body","JSON","stringify","alias","Login","username","password","user","setUser","isAuthenticated","setAuth","event","_objectSpread","_defineProperty","res","jwtToken","get","setItem","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fb8623d1.chunk.js","sourcesContent":["import './History.css';\nimport React from 'react';\n\n\nfunction History(props) {\n    const headers = ['A', 'B', 'Your Answer', 'Correct Answer', 'isCorrect?'];  \n    return(\n        <div> \n            <h3>Your recent attempts</h3>        \n            <table id=\"history\" > \n                <thead>\n                <tr>\n                    {headers.map((s, idx) => (<th key={idx}>{s}</th>))}\n                </tr>\n                </thead>\n                <tbody>\n                {props.data.map((row,idx) => (\n                        <tr key={idx}>\n                        <td>{row.factorA}</td>\n                        <td>{row.factorB}</td>\n                        <td>{row.attempt}</td>\n                        <td>{row.answer}</td>\n                        {(row.correct)? (<td>true</td>) :\n                                    (<td className=\"incorrect\">false</td>)} \n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </div>\n    );\n}\nexport default History;\n","import React, {useState} from 'react';\r\n\r\nfunction Problem(props) {\r\n \r\n  const [attempt, setAttempt] = useState('');\r\n  const [message, setMessage] = useState('');\r\n\r\n  const onChangeAttempt = (e) => {\r\n    console.log(\"onChangeAttempt \"+e.target.value);\r\n    setAttempt(e.target.value);\r\n  }\r\n\r\n\r\n\r\n  const handleSubmit = (e) => {\r\n    if (/^[0-9]+$/.test(attempt)) {\r\n      props.postAttempt(attempt);\r\n    } else {\r\n      setMessage(\"Your answer is not a valid integer.\");\r\n    }\r\n  }\r\n\r\n  const handleNext = (e) => {\r\n    props.fetchProblem();\r\n  }\r\n\r\n    const msg = (props.message!=='') ? props.message : message;\r\n    const {a, b} = props.factors;\r\n    return (\r\n      <div className=\"App\">\r\n       <h3>The problem is </h3>\r\n       <h1><span id=\"factora\">{a}</span> x <span id=\"factorb\">{b}</span></h1>\r\n\r\n      <table>\r\n        <tbody>\r\n        <tr><td>\r\n       <label htmlFor=\"attempt\">Your answer</label>\r\n       </td><td>\r\n       <input type=\"text\" name=\"attempt\" value={attempt} \r\n              onChange={onChangeAttempt} />\r\n       </td></tr>\r\n \r\n       </tbody>\r\n       </table>\r\n       \r\n       <br/>\r\n       <button id=\"submit\" onClick={handleSubmit}>Submit</button>\r\n       <br/>\r\n       <button onClick={handleNext}>Next Problem</button>\r\n       \r\n       <h3 id=\"message\">{msg}</h3>\r\n      </div>\r\n    )\r\n}\r\nexport default Problem;\r\n","import React, {useState, useEffect} from 'react';\r\nimport History from './History';\r\nimport Problem from './Problem';\r\nimport {BrowserRouter, Switch, Route, Link} from 'react-router-dom';\r\n\r\n\r\nfunction Game() {\r\n\r\n  const [message, setMessage] = useState('');\r\n  const [factors, setFactors] = useState({a:41, b:26});\r\n  const [history, setHistory] = useState([]);\r\n\r\n  const token = sessionStorage.getItem(\"jwt\");\r\n  \r\n  useEffect( () => {\r\n    fetchProblem();\r\n    fetchHistory();\r\n  }, [])\r\n  \r\n  const fetchProblem = () => {\r\n    setMessage(''); \r\n    fetch('http://localhost:8080/multiplication/new', {\r\n        headers: {'Authorization' : token}\r\n    })\r\n    .then(response => response.json()) \r\n    .then(data => {\r\n      setFactors({a:data.factorA, b:data.factorB});\r\n    })\r\n    .catch(err => console.log(err));\r\n   }\r\n\r\n   const postAttempt = (attempt) => {\r\n    fetch ('http://localhost:8080/result', \r\n    {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization' : token,\r\n        'Content-Type': 'application/json',\r\n      }, \r\n      body: JSON.stringify({factorA:factors.a, factorB:factors.b, alias: '', attempt:attempt})\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      if (data.correct) {\r\n        setMessage('Correct.');\r\n      } else {\r\n        setMessage('Incorrect. Try again.');\r\n      }\r\n      fetchHistory();\r\n    })\r\n    .catch(err => console.error(err));\r\n  }\r\n\r\n  const fetchHistory = () => {\r\n    fetch('http://localhost:8080/result' ,{\r\n        headers: {'Authorization' : token}\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => setHistory(data))\r\n    .catch(err => console.error(err));    \r\n}\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <BrowserRouter>\r\n        <Link to='/'>Play Game</Link>{' | '}<Link to='/history'>History</Link>\r\n        <Switch>\r\n          <Route exact path='/'>\r\n            <Problem factors={factors} message={message} postAttempt={postAttempt} fetchProblem={fetchProblem} />\r\n          </Route>\r\n          <Route path='/history'>\r\n            <History data={history}/>\r\n          </Route>\r\n        </Switch>\r\n        </BrowserRouter>\r\n      </div>\r\n    )\r\n}\r\nexport default Game;","import React, {useState} from 'react';\r\nimport Game from './Game';\r\n\r\nfunction Login() {\r\n    const[user, setUser] = useState({username:'', password:''});\r\n    const[isAuthenticated, setAuth] = useState(false);\r\n\r\n    const onChange = (event) => {\r\n        setUser({...user, [event.target.name] : event.target.value});\r\n    }\r\n\r\n    const login = () => {\r\n        fetch('http://localhost:8080/login', {\r\n            method:'POST',\r\n            headers: {'Content-Type':'application/json' },\r\n            body: JSON.stringify(user)\r\n        })\r\n        .then(res => { \r\n            const jwtToken = res.headers.get('Authorization');\r\n            if (jwtToken !== null) {\r\n                sessionStorage.setItem(\"jwt\", jwtToken);\r\n                setAuth(true);\r\n            }\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    if (isAuthenticated) {\r\n        return <Game />;\r\n    } else {\r\n        return (\r\n            <div className=\"App\">\r\n            <table>\r\n            <tbody>\r\n            <tr><td>\r\n            <label htmlFor=\"username\">UserName</label>\r\n            </td><td>\r\n            <input type=\"text\" name=\"username\" value={user.username} onChange={onChange} />\r\n            </td></tr>\r\n            <tr><td>\r\n            <label htmlFor=\"password\">Password</label>\r\n            </td><td>\r\n            <input type=\"text\" name=\"password\" value={user.password} onChange={onChange} />\r\n            </td></tr>\r\n            </tbody>\r\n            </table>\r\n            \r\n            <br/>\r\n            <button id=\"submit\" onClick={login}>Login</button>\r\n                </div>\r\n        );\r\n    }\r\n}\r\nexport default Login;","import './App.css';\nimport React from 'react';\nimport Login from './components/Login';\n// import React, {useState, useEffect} from 'react';\n// import History from './components/History';\n// import Problem from './components/Problem';\n// import {BrowserRouter, Switch, Route, Link} from 'react-router-dom';\n\n\n\nfunction App() {\n//   const [message, setMessage] = useState('');\n//   const [factors, setFactors] = useState({a:41, b:26});\n//   const [history, setHistory] = useState([]);\n  \n//   useEffect( () => {\n//     fetchProblem();\n//   }, [])\n\n\n//   const fetchProblem = () => {\n//     setMessage(''); \n//     fetch('http://localhost:8080/multiplication/new')\n//     .then(response => response.json()) \n//     .then(data => {\n//       setFactors({a:data.factorA, b:data.factorB});\n//     })\n//     .catch(err => console.log(err));\n//    }\n\n\n//    const postAttempt = (attempt, alias) => {\n//     fetch ('http://localhost:8080/result', \n//     {\n//       method: 'POST',\n//       headers: {\n//         'Content-Type': 'application/json',\n//       }, \n//       body: JSON.stringify({factorA:factors.a, \n//                             factorB:factors.b, \n//                             alias: alias, \n//                             attempt:attempt})\n//     })\n//     .then(response => response.json())\n//     .then(data => {\n//       if (data.correct) {\n//         setMessage('Correct.');\n//       } else {\n//         setMessage('Incorrect. Try again.');\n//       }\n//       if (alias!=='') fetchHistory(alias);\n//     })\n//     .catch(err => console.error(err));\n//   }\n\n\n//   const fetchHistory = (alias) => {\n//     fetch(`http://localhost:8080/result/${alias}`)\n//     .then(response => response.json())\n//     .then(data => setHistory(data))\n//     .catch(err => console.error(err));    \n// }\n\nreturn (\n  <div className=\"App\">\n    <Login />\n  </div>\n)\n\n// return (\n//   <div className=\"App\">\n//     <BrowserRouter>\n//     <Link to='/'>Play Game</Link>{' | '}<Link to='/history'>History</Link>\n//     <Switch>\n//       <Route exact path='/'>\n//         <Problem factors={factors} \n//                  message={message}\n//                  postAttempt={postAttempt} \n//                  fetchProblem={fetchProblem} />\n//       </Route>\n//       <Route path='/history'>\n//         <History data={history}/>\n//       </Route>\n//     </Switch>\n//     </BrowserRouter>\n//   </div>\n// )\n\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}